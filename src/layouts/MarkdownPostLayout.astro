---
import BaseLayout from "./BaseLayout.astro";
import "../styles/markdown.css";
import {
  Calendar1,
  CircleUserRound,
  Clock,
  MessageCircleMore,
} from "lucide-preact";

const { frontmatter } = Astro.props;
---

<style>
  .markdown {
    p {
      padding: 8px 0 8px 0;
    }

    /* H1 样式 */
    h1 {
      font-size: 2.5em; /* 约40px，较大的字体便于吸引注意力 */
      line-height: 1.2; /* 紧凑的行高，适合标题 */
      font-weight: bold; /* 加粗，突出标题 */
      color: #2c3e50; /* 深蓝色，提升专业感 */
      margin-top: 1.5em; /* 添加顶部间距 */
      margin-bottom: 0.5em; /* 适当的间距，避免标题与内容过于拥挤 */
      text-align: center; /* 居中对齐，适合重要标题 */
      text-transform: uppercase; /* 大写，增加标题的正式感 */
    }

    /* H2 样式 */
    h2 {
      font-size: 2em; /* 约32px，次于H1 */
      line-height: 1.3;
      font-weight: bold;
      color: #34495e; /* 深灰色，与H1保持一致的色调 */
      margin-top: 1.2em; /* 添加顶部间距 */
      margin-bottom: 0.6em;
      border-bottom: 2px solid #ddd; /* 添加下划线，增加层次感 */
      padding-bottom: 0.2em;
    }

    /* H3 样式 */
    h3 {
      font-size: 1.75em; /* 约28px */
      line-height: 1.4;
      font-weight: 600; /* 稍微轻于H2 */
      color: #446cb3; /* 蓝色，与H1呼应，但更明亮 */
      margin-top: 1em; /* 添加顶部间距 */
      margin-bottom: 0.7em;
    }

    /* H4 样式 */
    h4 {
      font-size: 1.5em; /* 约24px */
      line-height: 1.5;
      font-weight: 500; /* 更轻的字体粗细 */
      margin-top: 0.8em; /* 添加顶部间距 */
      margin-bottom: 0.8em;
    }

    /* H5 样式 */
    h5 {
      font-size: 1.25em; /* 约20px */
      line-height: 1.6;
      font-weight: normal; /* 正常粗细，避免过于突出 */
      color: #e74c3c; /* 红色，用于强调 */
      margin-top: 0.6em; /* 添加顶部间距 */
      margin-bottom: 1em;
    }

    /* UL 样式 */
    ul {
      list-style-type: disc; /* 使用默认的圆点符号 */
      margin-top: 1em; /* 列表与上文的间距 */
      margin-bottom: 1em; /* 列表与下文的间距 */
      padding-left: 1.5em; /* 列表项的缩进，保持足够的空间 */
    }

    /* LI 样式 */
    li {
      font-size: 1em; /* 列表项字体大小与正文一致 */
      line-height: 1.6; /* 适当的行高，便于阅读 */
      margin-bottom: 0.5em; /* 列表项之间的间距 */
      color: #333; /* 与正文一致的深灰色 */
    }

    .astro-code,
    .astro-code span {
      font-size: 14px !important;
    }

    /* Links */
    a {
      font-size: 15px;
      color: #117cee;
      text-decoration: none;
    }

    a:hover {
      font-size: 15px;
      color: #1d4ed8;
      text-decoration: underline;
    }

    /* h2 {
      margin: 80px 10px 40px;
      text-align: center;
      color: rgb(63, 63, 63);
      font-size: 140%;
    }
    h3 {
      margin-top: 40px;
      margin-bottom: 20px;
      font-weight: bold;
      line-height: 1.5;
      color: rgb(63, 63, 63);
      font-size: 120%;
    } */
  }
</style>

<BaseLayout pageTitle={frontmatter.title}>
  <article class="w-2xl">
    <div class="flex text-sm items-center mt-2 mb-5 opacity-30">
      <time
        class="flex items-center"
        datetime={frontmatter.pubDate.toLocaleDateString()}
      >
        <Calendar1 class="mr-2" strokeWidth={1.5} />
        {frontmatter.pubDate.toLocaleDateString()}
      </time>
      <address class="ml-5 flex items-center">
        <CircleUserRound class="mr-2" strokeWidth={1.5} />
        <span class="opacity-100">{frontmatter.author}</span>
      </address>
      <span class="ml-5 flex items-center">
        <MessageCircleMore class="mr-2" strokeWidth={1.5} />
        字数
      </span>
      <span class="ml-5 flex items-center">
        <Clock class="mr-2" strokeWidth={1.5} /> 全文阅读时间
      </span>
    </div>
    <section class="mx-2 leading-[1.9] text-[#222]">
      <p><em>{frontmatter.description}</em></p>
      <img
        class="my-4"
        src={frontmatter.image.url}
        width="100%"
        alt={frontmatter.image.alt}
      />
      <!-- <div class="markdown"> -->
      <div class="markdown">
        <slot />
      </div>
    </section>
    <div class="tags">
      {
        frontmatter.tags.map((tag: string) => (
          <p class="tag">
            <a href={`/tags/${tag}`}>{tag}</a>
          </p>
        ))
      }
    </div>
  </article>
</BaseLayout>
<style>
  a {
    color: #00539f;
  }

  .tags {
    display: flex;
    flex-wrap: wrap;
  }

  .tag {
    margin: 0.25em;
    border: dotted 1px #a1a1a1;
    border-radius: 0.5em;
    padding: 0.5em 1em;
    font-size: 1.15em;
    background-color: #f8fcfd;
  }
  // ... existing code ...

/* Table styles */
table {
    width: 100%;
    border-collapse: collapse;
    margin: 1rem 0;
    font-size: 0.9rem;
  }

  th,
  td {
    padding: 0.75rem;
    text-align: left;
    border: 1px solid #e2e8f0;
  }

  th {
    background-color: #f8fafc;
    font-weight: 600;
    color: #1e293b;
  }

  tr:nth-child(even) {
    background-color: #f8fafc;
  }

  tr:hover {
    background-color: #f1f5f9;
  }

  /* Dark mode table styles */
  html.dark table {
    color: #e2e8f0;
  }

  html.dark th,
  html.dark td {
    border-color: #334155;
  }

  html.dark th {
    background-color: #1e293b;
    color: #e2e8f0;
  }

  html.dark tr:nth-child(even) {
    background-color: #1e293b;
  }

  html.dark tr:hover {
    background-color: #334155;
  }
</style>
